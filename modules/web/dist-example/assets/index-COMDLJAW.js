import{V as C,o as E,p as P,aj as B,W as I,R as i,v as L,w as F,ak as R,al as j,$ as V,c as A,ab as G,am as y,j as e,C as H,aa as Q,T as f,a as h,a4 as U,I as W,B as x}from"./index-XsIMaQZM.js";import{B as p}from"./Badge-Dw0g8wcf.js";import{C as k}from"./Card-DY0iFTfs.js";var _={root:"m_6e45937b",loader:"m_e8eb006c",overlay:"m_df587f17"};const N={transitionProps:{transition:"fade",duration:0},overlayProps:{backgroundOpacity:.75},zIndex:C("overlay")},$=V((a,{zIndex:t})=>({root:{"--lo-z-index":t==null?void 0:t.toString()}})),u=E((a,t)=>{const s=P("LoadingOverlay",N,a),{classNames:c,className:n,style:o,styles:r,unstyled:d,vars:w,transitionProps:z,loaderProps:M,overlayProps:l,visible:T,zIndex:Y,...S}=s,v=B(),m=I({name:"LoadingOverlay",classes:_,props:s,className:n,style:o,classNames:c,styles:r,unstyled:d,vars:w,varsResolver:$}),g={...N.overlayProps,...l};return i.createElement(L,{transition:"fade",...z,mounted:!!T},O=>i.createElement(F,{...m("root",{style:O}),ref:t,...S},i.createElement(R,{...m("loader"),unstyled:d,...M}),i.createElement(j,{...g,...m("overlay"),darkHidden:!0,unstyled:d,color:(l==null?void 0:l.color)||v.white}),i.createElement(j,{...g,...m("overlay"),lightHidden:!0,unstyled:d,color:(l==null?void 0:l.color)||v.colors.dark[5]})))});u.classes=_;u.displayName="@mantine/core/LoadingOverlay";/**
 * @license @tabler/icons-react v3.3.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var K=A("outline","loader","IconLoader",[["path",{d:"M12 6l0 -3",key:"svg-0"}],["path",{d:"M16.25 7.75l2.15 -2.15",key:"svg-1"}],["path",{d:"M18 12l3 0",key:"svg-2"}],["path",{d:"M16.25 16.25l2.15 2.15",key:"svg-3"}],["path",{d:"M12 18l0 3",key:"svg-4"}],["path",{d:"M7.75 16.25l-2.15 2.15",key:"svg-5"}],["path",{d:"M6 12l-3 0",key:"svg-6"}],["path",{d:"M7.75 7.75l-2.15 -2.15",key:"svg-7"}]]);const Z="_title_15kru_1",q="_description_15kru_19",J="_card_15kru_51",X="_cardTitle_15kru_59",b={title:Z,description:q,card:J,cardTitle:X};function te(){var c,n,o;const a=G.register("mkplace",{getNotPersistedStateFn(){return{searchText:""}},getPersistedStateFn(){return{}}});y.useCheckExtModeQuery({});const t=y.useGetExtListWithSearchQuery({searchText:((c=a==null?void 0:a.npState)==null?void 0:c.searchText)||""},{refetchOnMountOrArgChange:!0,pollingInterval:1e3*60*10});if(!a)return"";const s=(n=t==null?void 0:t.data)==null?void 0:n.data;return e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-700 m-[-10px]  p-[10px]",children:[e.jsxs(H,{size:"lg",py:"xl",className:"",children:[e.jsx(Q,{justify:"center",children:e.jsx(p,{variant:"filled",size:"lg",children:"“超级插件市场”"})}),e.jsx(f,{order:2,className:b.title,ta:"center",mt:"sm",children:"专业至上，为您量身打造的云插件市场！"}),e.jsx(h,{c:"dimmed",className:b.description,ta:"center",mt:"md",children:"从开发工具到待办笔记，从生活助手到学习资源，不分领域，应有尽有！"}),e.jsx("div",{className:"mt-6",children:e.jsx(U,{...a==null?void 0:a.bindOnChange({npStateKey:"searchText"}),rightSection:t.isFetching?e.jsx(K,{size:20}):e.jsx(W,{size:20}),size:"lg",placeholder:"键入以搜索插件名，支持大小写拼音"})})]}),e.jsxs("div",{className:"flex flex-row mt-16  mb-2 px-2  justify-between",children:[e.jsxs("div",{children:["总计",s==null?void 0:s.totals,"个插件"]}),e.jsxs("div",{children:["更新于: ",s==null?void 0:s.lastUpdated]})]}),e.jsxs(k,{withBorder:!0,className:"h-[100vh]",children:[e.jsx(u,{visible:t.isFetching,zIndex:1e3,overlayProps:{radius:"sm",blur:2}}),e.jsx("div",{className:"  p-2 pt-1 mt-0",children:(o=s==null?void 0:s.allMetaInfo)==null?void 0:o.map(r=>e.jsxs(k,{shadow:"xs",withBorder:!0,className:"w-[100%] sm:w-[29%] 2xl:w-[24%]    box-border mb-2 mr-2 inline-block  ",children:[e.jsx("div",{className:"flex items-center mb-2  space-x-2",children:e.jsx(f,{order:4,className:"font-normal",children:e.jsx(h,{truncate:!0,children:r.name})})}),e.jsx(h,{title:r.shortDesc,truncate:!0,className:"text-slate-600 dark:text-slate-400",size:"sm",children:r.shortDesc}),e.jsxs("div",{className:"flex justify-between space-x-2 mt-4 items-center ",children:[e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(p,{color:"green",variant:"light",size:"md",children:"官方插件"}),e.jsx(p,{color:"yellow",variant:"light",size:"md",children:r.version})]}),e.jsx("div",{className:"flex space-x-2",children:r.installed?e.jsxs(e.Fragment,{children:[r.hasNewVersion?e.jsx(x,{color:"green",size:"compact-sm",radius:"md",children:"更新"}):"",e.jsx(x,{color:"red",variant:"light",size:"compact-sm",radius:"md",children:"移除"})]}):e.jsx(x,{color:"blue",size:"compact-sm",radius:"md",children:"安装"})})]})]}))})]})]})}export{te as default};
